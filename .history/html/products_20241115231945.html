<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <!-- CSS liên kết -->
    <link rel="stylesheet" href="styles.css">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="text-center">Danh sách sản phẩm</h1>
        <div class="row">
            <!-- Sản phẩm 1 -->
            <div class="col-md-4">
                <div class="thumbnail">
                    <img src="../img/sacdp/mau1.jpg" alt="Sạc dự phòng mẫu 1">
                    <div class="caption">
                        <h3>Sạc dự phòng Energizer 20.000mAh - Mẫu 1</h3>
                        <p>Giá: 690,000 VNĐ</p>
                        <a href="#" class="btn btn-primary add-to-cart" 
                           data-id="1" 
                           data-name="Sạc dự phòng Energizer 20.000mAh - Mẫu 1" 
                           data-price="690000" 
                           data-image="../img/sacdp/mau1.jpg">Thêm vào giỏ hàng</a>
                    </div>
                </div>
            </div>
            <!-- Thêm nhiều sản phẩm khác tại đây -->
        </div>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <!-- Script xử lý giỏ hàng -->
    <script>
        $(document).ready(function () {
            // Hàm thêm sản phẩm vào giỏ hàng
            function addToCart(product) {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                let existingProduct = cart.find(item => item.id === product.id);

                if (existingProduct) {
                    existingProduct.quantity += 1;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }

                localStorage.setItem('cart', JSON.stringify(cart));
                alert("Đã thêm sản phẩm vào giỏ hàng!");
            }

            // Lắng nghe sự kiện click vào nút "Thêm vào giỏ hàng"
            $('.add-to-cart').click(function (e) {
                e.preventDefault();
                const product = {
                    id: $(this).data('id'),
                    name: $(this).data('name'),
                    price: $(this).data('price'),
                    image: $(this).data('image'),
                };
                addToCart(product);
            });
        });
    </script>
</body>
</html>
